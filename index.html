<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Szőke Épker KFT. – Minőség kompromisszumok nélkül</title>
  <meta name="description" content="Generálkivitelezés, családi ház és társasház építés, felújítás, homlokzati szigetelés, térkövezés, burkolás és festés — országosan, megbízható csapattal.">
  <link rel="canonical" href="https://szoke-epker.com/">

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/favicon-180.png">
  <meta name="theme-color" content="#F6F1E9">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --page:#F6F1E9; --panel:rgba(255,255,255,.82);
      --text:#3E3A35; --muted:#5c564f;
      --accent:#C9A27C; --accent2:#8A6F5A;
      --line:#E6D7C6; --frame:#E0CFB9;
      --shadow:0 10px 24px rgba(60,40,20,.12);
      --shadow-soft:0 8px 20px rgba(60,40,20,.08);
      --hdrH:92px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;overflow-x:hidden}
    html{scroll-padding-top:var(--hdrH)}
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text); background:var(--page); -webkit-tap-highlight-color:transparent;
      position:relative;
    }

    /* Háttér: élesebb, láthatóbb */
    body::after{
      content:""; position:fixed; inset:0; z-index:-2;
      background:url('hatter32.jpg') center/cover no-repeat fixed;
      opacity:.9; filter:saturate(120%) contrast(112%);
      pointer-events:none;
    }
    body::before{
      content:""; position:fixed; inset:0; z-index:-1;
      /* gyengébb fedőréteg, hogy a háttér jobban látsszon */
      background:linear-gradient(180deg, rgba(246,241,233,.4), rgba(246,241,233,.55));
      pointer-events:none;
    }
    @media (max-width:900px){ body::after{ background-attachment:scroll } }

    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1140px;margin:0 auto;padding:0 18px}
    @media (max-width:640px){ .container{padding:0 16px} }

    /* Header */
    header{
      position:fixed; inset:0 0 auto 0; z-index:1100;
      background:rgba(255,255,255,.9);
      border-bottom:1px solid var(--line);
      backdrop-filter:blur(8px) saturate(120%);
      box-shadow:0 10px 24px rgba(60,40,20,.08);
    }
    #hdrSpacer{height:var(--hdrH)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 0}
    .brand{display:flex;align-items:center;gap:10px}
    /* LOGÓ kiemelés #1 (fejléc) */
    .brand img{
      height:44px;border-radius:12px;background:#fff;padding:6px;
      border:2px solid var(--accent);
      box-shadow:0 8px 20px rgba(0,0,0,.18);
    }
    .brand-name{font-weight:900;letter-spacing:.2px;font-size:clamp(18px,2.2vw,22px)}
    .menu{display:flex;gap:12px;align-items:center;flex-wrap:wrap}

    /* Modern, „pill” menü gombok */
    nav.menu a{
      display:inline-flex; align-items:center;
      border:1.5px solid var(--line);
      border-radius:999px;
      padding:8px 14px;
      background:#fff;
      font-weight:800;
      box-shadow:0 6px 14px rgba(60,40,20,.08);
      transition:transform .15s, box-shadow .15s, background .15s;
      white-space:nowrap;
    }
    nav.menu a:hover{ transform:translateY(-2px); box-shadow:0 10px 20px rgba(60,40,20,.12); }
    .btn{
      display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:999px;border:2px solid var(--accent);
      background:var(--accent);color:#fff;font-weight:900;box-shadow:0 10px 22px rgba(201,162,124,.28);transition:.15s
    }
    .btn:hover{transform:translateY(-2px); background:var(--accent2); border-color:var(--accent2)}
    .btn.outline{background:#fff;color:var(--accent);}

    nav.menu a.is-active{ color:var(--accent2); box-shadow: inset 0 -3px 0 var(--accent2); }

    @media (max-width:640px){
      .nav{ padding: calc(8px + env(safe-area-inset-top,0)) 0 8px; display:grid; row-gap:8px }
      .brand img{height:34px}
      .brand-name{font-size:15px}
      nav.menu{width:100%;display:flex;overflow-x:auto;gap:8px;-webkit-overflow-scrolling:touch}
      nav.menu::-webkit-scrollbar{display:none}
      nav.menu > a, nav.menu > .btn, nav.menu > .btn.outline{
        background:#fff;border:1.5px solid var(--line);border-radius:999px;padding:7px 11px;font-size:13px;white-space:nowrap;flex:0 0 auto;box-shadow:0 6px 12px rgba(60,40,20,.08)
      }
      nav.menu > .btn{background:var(--accent);color:#fff;border-color:var(--accent)}
    }

    /* Szekciók / címek */
    section{padding:40px 0;scroll-margin-top:calc(var(--hdrH) + 8px)}
    h2{margin:0 0 12px;font-weight:900;font-size:1.6rem;position:relative;padding-left:14px}
    h2::before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;border-radius:2px;background:var(--accent)}

    /* Erősebb körbekeretezés minden fontos dobozon */
    .panel-wrap{
      background:var(--panel);
      border:2px solid rgba(0,0,0,.18);
      border-radius:18px;
      box-shadow:0 10px 26px rgba(0,0,0,.12);
      padding:22px;
    }
    .card{
      background:linear-gradient(#fff,#fefcf8);
      border:2px solid rgba(0,0,0,.18);
      border-radius:16px;
      padding:16px;
      box-shadow:0 10px 22px rgba(0,0,0,.10);
    }
    .grid{display:grid;gap:14px}
    .cols-2{grid-template-columns:repeat(2,1fr)}
    .cols-3{grid-template-columns:repeat(3,1fr)}
    @media (max-width:900px){.cols-2,.cols-3{grid-template-columns:1fr}}

    /* HERO – sokkal kompaktabb + LOGÓ kiemelés #2 */
    .hero{padding:22px 0}
    .hero-card{
      background:var(--panel);
      border:2px solid rgba(0,0,0,.18);
      border-radius:18px;
      padding:14px;
      box-shadow:0 12px 30px rgba(0,0,0,.16);
      max-width:820px; margin:0 auto;
    }
    .hero-top{display:flex;align-items:center;gap:10px;margin-bottom:6px}
    .hero-logo{
      height:46px;border-radius:12px;background:#fff;padding:6px;
      border:2px solid var(--accent);
      box-shadow:0 10px 22px rgba(0,0,0,.22);
    }
    h1{margin:4px 0 6px;font-weight:900;font-size:clamp(24px,3vw,34px);line-height:1.16}
    .lead{color:var(--muted);font-size:clamp(14px,1.9vw,16px)}
    .hero-cols{display:grid;grid-template-columns:minmax(0,1fr) minmax(200px,240px);gap:14px;align-items:start}
    .hero-img{
      width:100%;aspect-ratio:1/1;max-width:200px;border-radius:14px;object-fit:cover;
      box-shadow:0 10px 22px rgba(0,0,0,.18); margin-left:auto;
    }
    @media (max-width:900px){
      .hero-cols{grid-template-columns:1fr}
      .hero-img{max-width:180px;margin-left:0}
    }

    /* Felső Szolgáltatás pill-sor (vissza a hero fölé) */
    .svcbar{display:flex;gap:10px;overflow:auto;padding:6px 0;margin:0;list-style:none}
    .svcbar li{flex:0 0 auto}
    .svc-pill{
      display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:999px;
      background:#fff;border:1.5px solid var(--line);box-shadow:0 6px 14px rgba(60,40,20,.08);font-weight:800
    }
    .svc-pill .ico{
      width:28px;height:28px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;
      border:1.5px solid var(--accent); font-size:18px; background:#fff;
    }

    /* Szolgáltatások rács (lent) */
    #szolgaltatasok .grid{gap:16px;grid-template-columns:repeat(2,1fr)}
    @media (max-width:520px){#szolgaltatasok .grid{grid-template-columns:1fr}}
    #szolgaltatasok .card{display:flex;align-items:center;gap:12px;padding:18px 16px;font-weight:800}
    #szolgaltatasok .card::before{
      content: attr(data-icon);
      display:inline-flex;align-items:center;justify-content:center;font-size:22px;width:44px;height:44px;border-radius:999px;
      background:#fff;border:1.5px solid var(--accent);box-shadow:0 6px 14px rgba(60,40,20,.10);flex:0 0 44px;
    }

    /* Galéria képek kerete erősebben – (a 2/3 részben jön a markup) */
    .gallery img{border:2px solid rgba(0,0,0,.18);box-shadow:0 10px 22px rgba(0,0,0,.12)}

    /* Lebegő Facebook – marad */
    .fb-stick{position:fixed;right:12px;top:50%;transform:translateY(-50%);z-index:1050}
    .fb-btn{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:999px;background:#1877f2;box-shadow:0 8px 22px rgba(16,24,40,.22)}
    .fb-btn svg{width:20px;height:20px;fill:#fff}

    /* Lebegő LOGÓ – jobb alsó sarok, nagyobb + kiemelt (3. logó kiemelés) */
    .floating-logo{
      position:fixed; right:18px; bottom:18px; z-index:1060;
      width:72px; height:72px; border-radius:50%;
      display:inline-flex; align-items:center; justify-content:center;
      background:#ffffffee; backdrop-filter: blur(6px);
      border:2px solid var(--accent);
      box-shadow:0 18px 36px rgba(0,0,0,.28), inset 0 0 0 1px rgba(0,0,0,.06);
    }
    .floating-logo img{ width:46px; height:46px; border-radius:10px; display:block; }

    /* LIGHTBOX – alapból rejtve; 3/3-ban jön a markup+JS */
    .overlay{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.5); z-index:1200 }
    .overlay.show{ display:flex }
    .modal{ background:#fff; border:2px solid rgba(0,0,0,.18); border-radius:14px; padding:12px; max-width:92vw; box-shadow:0 24px 64px rgba(0,0,0,.32) }
    .modal-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px }
    .close{ background:transparent; border:1.5px solid var(--line); border-radius:10px; padding:6px 10px; cursor:pointer }
    .lb-nav{ display:flex; gap:8px; justify-content:flex-end; margin-top:8px }

    /* Beúszás (reveal) – betöltéskor + scroll közben működik majd a 3/3 JS-sel */
    .reveal{ opacity:0; transform: translateY(22px); transition: opacity .6s ease, transform .6s ease; will-change: opacity, transform; }
    .reveal.show{ opacity:1; transform:none; }
    .stagger > *{ transition-delay:.06s }
    .stagger > *:nth-child(2){ transition-delay:.12s }
    .stagger > *:nth-child(3){ transition-delay:.18s }
    .stagger > *:nth-child(4){ transition-delay:.24s }
    @media (prefers-reduced-motion: reduce){
      .reveal,.reveal.show{ transition:none !important; transform:none !important; opacity:1 !important; }
    }
  </style>
</head>
<body>

  <!-- HEADER (megtartva, üres elemek nélkül) -->
  <header class="reveal">
    <div class="container nav">
      <a class="brand" href="#" aria-label="Főoldal">
        <img src="logo.jpg" alt="Szőke Épker KFT. logó">
        <span class="brand-name">Szőke Épker KFT.</span>
      </a>
      <nav class="menu" aria-label="Főmenü">
        <a href="#szolgaltatasok">Szolgáltatások</a>
        <a href="#referenciak">Referenciák</a>
        <a href="#rolunk">Rólunk</a>
        <a href="#ajanlatkeres" class="btn outline">Ajánlatkérés</a>
        <a href="#kapcsolat" class="btn outline">Kapcsolat</a>
      </nav>
    </div>
  </header>
  <div id="hdrSpacer" aria-hidden="true"></div>

  <!-- SZOLGÁLTATÁS PILLEK – VISSZATÉVE A HERO FÖLÉ -->
  <section id="svc-top" class="reveal">
    <div class="container">
      <ul class="svcbar">
        <li><a class="svc-pill" href="#szolgaltatasok"><span class="ico">🧱</span> Térkövezés</a></li>
        <li><a class="svc-pill" href="#szolgaltatasok"><span class="ico">🏗️</span> Generálkivitelezés</a></li>
        <li><a class="svc-pill" href="#szolgaltatasok"><span class="ico">🏠</span> Szigetelés</a></li>
        <li><a class="svc-pill" href="#szolgaltatasok"><span class="ico">🎨</span> Festés</a></li>
      </ul>
    </div>
  </section>

  <!-- HERO – erősen kompakt és kiemelt logóval -->
  <section class="hero reveal">
    <div class="container hero-inner">
      <div class="hero-card">
        <div class="hero-top">
          <img src="logo.jpg" alt="Szőke Épker KFT." class="hero-logo" width="120" height="56">
          <span class="pill">Ország bármely pontján</span>
        </div>
        <h1>Minőség kompromisszumok nélkül</h1>
        <div class="hero-cols">
          <div>
            <p class="lead">
              Generálkivitelezés, családi házak és társasházak építése, felújítások, homlokzati szigetelés,
              térkövezés, burkolás és festés. Megbízható csapat, pontos határidők, átlátható ajánlatadás.
            </p>
            <ul style="margin:0; padding-left:18px; color:var(--muted)">
              <li>Határidő-garancia és tételes költségvetés</li>
              <li>Szabványosított minőség-ellenőrzés minden ütemnél</li>
              <li>Rendszeres tájékoztatás, fotós előrehaladás-jelentés</li>
              <li>Garanciális átadás, tiszta munkaterület</li>
            </ul>
            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
              <a class="btn" href="#ajanlatkeres">📨 Ingyenes ajánlatkérés</a>
              <a class="btn outline" href="#referenciak">📷 Referenciák</a>
            </div>
          </div>
          <div>
            <img src="hero.jpg" alt="Építőipari szakember" class="hero-img" width="760" height="760" loading="lazy" decoding="async">
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- RÉSZLETES SZOLGÁLTATÁSOK -->
  <section id="szolgaltatasok" class="reveal">
    <div class="container">
      <div class="panel-wrap">
        <h2>Szolgáltatásaink</h2>
        <div class="grid">
          <div class="card" data-icon="🧱">Térkövezés és burkolás</div>
          <div class="card" data-icon="🏗️">Generálkivitelezés</div>
          <div class="card" data-icon="🏠">Homlokzati szigetelés</div>
          <div class="card" data-icon="🎨">Festés, lakásfelújítás</div>
        </div>
      </div>
    </div>
  </section>

  <!-- REFERENCIÁK -->
  <section id="referenciak" class="reveal">
    <div class="container">
      <div class="panel-wrap">
        <h2>Referenciák</h2>
        <p style="color:var(--muted);margin-top:0">Válogatás elkészült munkáinkból.</p>
        <div class="gallery stagger">
          <img class="lb reveal" src="kep1.jpg" alt="Referencia 1" loading="lazy" decoding="async">
          <img class="lb reveal" src="kep2.jpg" alt="Referencia 2" loading="lazy" decoding="async">
          <img class="lb reveal" src="kep3.jpg" alt="Referencia 3" loading="lazy" decoding="async">
          <img class="lb reveal" src="kep4.jpg" alt="Referencia 4" loading="lazy" decoding="async">
          <img class="lb reveal" src="kep5.jpg" alt="Referencia 5" loading="lazy" decoding="async">
          <img class="lb reveal" src="kep6.png" alt="Grafika" loading="lazy" decoding="async">
        </div>
      </div>
    </div>
  </section>

  <!-- RÓLUNK -->
  <section id="rolunk" class="reveal">
    <div class="container">
      <div class="panel-wrap">
        <h2>Rólunk</h2>
        <div class="card">
          <p style="margin-top:0">
            A Szőke Épker Kft. több éves tapasztalattal vállal <b>teljes körű generálkivitelezést</b>, családi házak és társasházak építését,
            <b>felújítást</b>, <b>homlokzati szigetelést</b>, <b>térkövezést</b> és <b>burkolást</b>, <b>festést</b>.
          </p>
          <p>
            Célunk, hogy ügyfeleink elégedetten vehessék birtokba ingatlanjukat: a tervezéstől a kulcsátadásig számíthat ránk.
            Nincsenek rejtett költségek vagy csúszó határidők — <b>amit ígérünk, azt megcsináljuk</b>.
          </p>
          <ul style="margin:0; padding-left:18px; color:var(--muted)">
            <li>Megbízható, összeszokott csapat</li>
            <li>Pontos, átlátható ajánlatadás</li>
            <li>Határidő-garancia, tiszta munkaterület</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- AJÁNLATKÉRÉS -->
  <section id="ajanlatkeres" class="reveal">
    <div class="container">
      <div class="panel-wrap">
        <h2>Kérjen ingyenes ajánlatot</h2>
        <div class="card">
          <p style="margin-top:0;color:var(--muted)">
            Töltse ki az alábbi mezőket, üzenete biztonságosan továbbításra kerül.
          </p>

          <form name="ajanlat" method="POST" data-netlify="true" netlify-honeypot="bot-field">
            <input type="hidden" name="form-name" value="ajanlat">
            <p style="display:none">
              <label>Ne töltse ki: <input name="bot-field"></label>
            </p>

            <input required name="Név" placeholder="Név">
            <input required name="Telefon" placeholder="Telefon">
            <input required type="email" name="Email" placeholder="E-mail" style="grid-column:1/-1">
            <input name="Cím" placeholder="Cím (opcionális)" style="grid-column:1/-1">
            <textarea required name="Üzenet" placeholder="Munka rövid leírása" rows="4" style="grid-column:1/-1"></textarea>

            <button class="btn" type="submit">📨 Ajánlatkérés elküldése</button>
          </form>

        </div>
      </div>
    </div>
  </section>

  <!-- KAPCSOLAT -->
  <section id="kapcsolat" class="reveal">
    <div class="container">
      <div class="panel-wrap">
        <h2>Kapcsolat</h2>
        <div class="card">
          <div class="grid cols-2">
            <div>
              <p style="margin-top:0"><b>Cím:</b> 4100 Berettyóújfalu, Dózsa György utca 6 1/3</p>
              <p><b>Telefon:</b> <a href="tel:+36706070675">+36 70 607 0675</a></p>
              <p><b>E-mail:</b> <a href="mailto:info@szoke-epker.com">info@szoke-epker.com</a></p>
              <p><b>Web:</b> <a href="https://szoke-epker.com" target="_blank" rel="noopener">szoke-epker.com</a></p>
              <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap">
                <a class="btn" href="tel:+36706070675">📞 Hívás</a>
                <a class="btn outline" href="#ajanlatkeres">✉️ Üzenet küldése</a>
                <a class="btn outline" href="https://www.facebook.com/szokeepkerkft" target="_blank" rel="noopener">🔗 Facebook</a>
              </div>
            </div>
            <div>
              <iframe class="map"
                src="https://www.google.com/maps?q=Beretty%C3%B3%C3%BAjfalu%20D%C3%B3zsa%20Gy%C3%B6rgy%20utca%206%201%2F3&output=embed"
                loading="lazy" referrerpolicy="no-referrer-when-downgrade" allowfullscreen title="Irodánk térképe"></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- LÁBLÉC -->
  <footer class="reveal">© 2025 Szőke Épker KFT. • Minden jog fenntartva.</footer>

  <!-- LIGHTBOX (galériához) – alapból rejtve -->
  <div class="overlay" id="lightbox" aria-hidden="true">
    <div class="modal" role="dialog" aria-label="Kép nagyítás">
      <div class="modal-header">
        <span style="opacity:.7">Kép megnyitva</span>
        <button class="close" aria-label="Bezárás" id="closeLightbox">&times;</button>
      </div>
      <img id="lbImg" src="" alt="">
      <div class="lb-nav">
        <button id="lbPrev" class="btn outline">◀ Előző</button>
        <button id="lbNext" class="btn">Következő ▶</button>
      </div>
    </div>
  </div>

  <!-- LEBEGŐ FACEBOOK – jobb oldalon, középen -->
  <div class="fb-stick">
    <a class="fb-btn" href="https://www.facebook.com/szokeepkerkft" target="_blank" rel="noopener" aria-label="Facebook oldalunk">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 12a10 10 0 1 0-11.56 9.88v-6.99H7.9V12h2.54V9.8c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.23.2 2.23.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56V12h2.78l-.44 2.89h-2.34v6.99A10 10 0 0 0 22 12z"/></svg>
    </a>
  </div>

  <!-- LEBEGŐ LOGÓ – jobb alsó sarok (nagy, kiemelt) -->
  <a class="floating-logo" href="#" aria-label="Szőke Épker KFT.">
    <img src="logo.jpg" alt="Szőke Épker KFT.">
  </a>

  <!-- schema.org -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ConstructionCompany",
    "name":"Szőke Épker KFT.",
    "url":"https://szoke-epker.com/",
    "telephone":"+36 70 607 0675",
    "email":"info@szoke-epker.com",
    "address":{
      "@type":"PostalAddress",
      "addressLocality":"Berettyóújfalu",
      "streetAddress":"Dózsa György utca 6 1/3",
      "postalCode":"4100",
      "addressCountry":"HU"
    },
    "areaServed":"HU"
  }
  </script>

  <!-- SCRIPTEK -->
  <script>
    /* Header offset – spacer + scroll-padding frissítése */
    (function(){
      function setHeaderOffset(){
        const h=document.querySelector('header'); if(!h) return;
        const px=(h.offsetHeight||92)+'px';
        document.documentElement.style.setProperty('--hdrH',px);
        const sp=document.getElementById('hdrSpacer'); if(sp) sp.style.height=px;
      }
      window.addEventListener('load',setHeaderOffset);
      window.addEventListener('resize',setHeaderOffset);
      new MutationObserver(setHeaderOffset).observe(document.querySelector('header'),{childList:true,subtree:true});
      setTimeout(setHeaderOffset,120);
    })();

    /* Smooth scroll + aktív menü jelölés */
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',e=>{
        const id=a.getAttribute('href');
        if(id && id.length>1 && document.querySelector(id)){
          e.preventDefault();
          document.querySelector(id).scrollIntoView({behavior:'smooth',block:'start'});
        }
      });
    });
    (function(){
      const links=[...document.querySelectorAll('nav.menu a[href^="#"]')];
      const secs=links.map(a=>document.querySelector(a.getAttribute('href'))).filter(Boolean);
      function setActive(){
        const pad=parseInt(getComputedStyle(document.documentElement).getPropertyValue('--hdrH'))||90;
        const y=window.scrollY+pad+10; let cur=null;
        secs.forEach(s=>{ if(s.offsetTop<=y) cur=s; });
        links.forEach(a=>a.classList.toggle('is-active',cur && a.getAttribute('href')==='#'+cur.id));
      }
      window.addEventListener('scroll',setActive,{passive:true});
      window.addEventListener('load',setActive);
    })();

    /* Lightbox működés (galériához) – csak .show-kor látszódjon */
    (function(){
      const lb=document.getElementById('lightbox');
      const img=document.getElementById('lbImg');
      const btnX=document.getElementById('closeLightbox');
      const prev=document.getElementById('lbPrev');
      const next=document.getElementById('lbNext');
      const nodes=Array.from(document.querySelectorAll('img.lb'));
      let idx=-1;

      function headerPad(){ return getComputedStyle(document.documentElement).getPropertyValue('--hdrH'); }
      function openAt(i){
        if(i<0||i>=nodes.length) return;
        idx=i; img.src=nodes[idx].src;
        lb.classList.add('show'); lb.setAttribute('aria-hidden','false');
        document.querySelector('.overlay .modal').style.marginTop=`calc(${headerPad()} + 8px)`;
        document.documentElement.style.overflow='hidden'; document.body.style.overflow='hidden';
      }
      function close(){
        lb.classList.remove('show'); lb.setAttribute('aria-hidden','true');
        img.src=""; document.documentElement.style.overflow=''; document.body.style.overflow='';
      }
      function step(d){ if(!nodes.length) return; idx=(idx+d+nodes.length)%nodes.length; img.src=nodes[idx].src; }

      nodes.forEach((n,i)=> n.addEventListener('click',()=>openAt(i)));
      btnX?.addEventListener('click',close);
      prev?.addEventListener('click',()=>step(-1));
      next?.addEventListener('click',()=>step(1));
      lb.addEventListener('click',(e)=>{ if(e.target===lb) close(); });
      window.addEventListener('keydown',(e)=>{
        if(!lb.classList.contains('show')) return;
        if(e.key==='Escape') close();
        if(e.key==='ArrowLeft') step(-1);
        if(e.key==='ArrowRight') step(1);
      });
    })();

    /* Beúszás – on-load + görgetés közben */
    (function(){
      function showInitial(){
        document.querySelectorAll('.reveal').forEach(el=>{
          const r=el.getBoundingClientRect();
          const inView=r.top<window.innerHeight*0.9 && r.bottom>0;
          if(inView) el.classList.add('show');
        });
      }
      const io='IntersectionObserver' in window
        ? new IntersectionObserver((entries)=>{
            entries.forEach(e=>{
              if(e.isIntersecting){
                e.target.classList.add('show');
                io.unobserve(e.target);
              }
            });
          },{threshold:0.12})
        : null;

      function register(){
        document.querySelectorAll('.reveal').forEach(el=>{ if(io) io.observe(el); });
      }

      window.addEventListener('load',()=>{ showInitial(); register(); });
    })();
  </script>
</body>
</html>
